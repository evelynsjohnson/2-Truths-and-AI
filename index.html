<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Welcome — Consent</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Afacad:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0d0d0d;
            --card: #121212;
            --primary: #6b63ff;
            --muted: #bdbdbd;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: "Afacad", sans-serif;
            background: var(--bg);
            color: #fff
        }

        .stage {
            min-height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px
        }

        .card {
            width: 100%;
            max-width: 820px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), transparent);
            border-radius: 12px;
            padding: 28px;
            border: 1px solid rgba(255, 255, 255, 0.04)
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 6px
        }

        p.lead {
            color: var(--muted);
            margin-top: 0;
            margin-bottom: 18px
        }

        .terms {
            background: transparent;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 18px;
            border: 1px dashed rgba(255, 255, 255, 0.03)
        }

        .term-item {
            display: flex;
            gap: 12px;
            align-items: flex-start;
            padding: 8px 6px
        }

        .term-item input {
            width: 20px;
            height: 20px;
            margin-top: 4px
        }

        .term-item label {
            font-size: 1rem;
            color: #fff
        }

        .controls {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            align-items: center;
            margin-top: 18px
        }

        .confirm {
            background: var(--primary);
            border: none;
            color: #fff;
            padding: 12px 18px;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            opacity: 0.5
        }

        .confirm.enabled {
            opacity: 1;
            transform: translateY(0)
        }

        .remember {
            color: var(--muted);
            display: flex;
            align-items: center;
            gap: 8px
        }

        a.secondary {
            color: var(--muted);
            text-decoration: underline
        }

        @media (max-width:520px) {
            .card {
                padding: 18px
            }
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 1200;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
        }

        .modal-content {
            width: calc(100% - 48px);
            max-width: 900px;
            max-height: 80vh;
            background: #0b0b0b;
            border-radius: 10px;
            padding: 18px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6);
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            position: sticky;
            top: 0;
            background: #0b0b0b;
            padding: 10px 0;
            z-index: 10;
        }

        .modal-title {
            margin: 0;
            font-size: 1.2rem;
        }

        .close-btn {
            background: transparent;
            border: none;
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
        }

        .modal-body {
            line-height: 1.6;
        }

        .modal-body h2 {
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .modal-body h3 {
            margin-top: 1.2rem;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .modal-body p {
            margin-bottom: 1rem;
        }

        .modal-body ul,
        .modal-body ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }

        .modal-body li {
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body>
    <main class="stage" role="main">
        <div class="card" role="region" aria-labelledby="consent-title">
            <h1 id="consent-title">Terms & Consent</h1>
            <p class="lead">Before you play, please read and agree to the following. You must check all three boxes to
                continue.</p>

            <div class="terms" aria-live="polite">
                <div class="term-item">
                    <input type="checkbox" id="t1" />
                    <label for="t1">I have read and agree to the <a href="#" class="secondary" id="termsLink">Terms of
                            Service</a>.</label>
                </div>

                <div class="term-item">
                    <input type="checkbox" id="t2" />
                    <label for="t2">I have read and agree to the <a href="#" class="secondary" id="privacyLink">Privacy
                            Notice</a>.</label>
                </div>

                <div class="term-item">
                    <input type="checkbox" id="t3" />
                    <label for="t3">I confirm I am at least 13 years old and allowed to use this application.</label>
                </div>
            </div>
            <p class="lead">Note: All AI generated content is for entertainment purposes only and may not reflect real-world facts and do not claim accuracy.</p>

            <div style="display:flex;justify-content:flex-end;align-items:center;gap:12px;flex-wrap:wrap">
                <div class="controls">
                    <button id="confirmBtn" class="confirm" disabled aria-disabled="true">Confirm & Continue</button>
                </div>
            </div>

        </div>
    </main>

    <!-- Terms of Service Modal -->
    <div id="termsModal" class="modal" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Terms of Service</h2>
                <button class="close-btn" id="closeTerms" aria-label="Close terms">✕</button>
            </div>
            <div class="modal-body">
                <h2>Terms of Service for 2 Truths and AI</h2>

                <p><strong>Last Updated: </strong>10/13/2025 8:56PM</p>

                <h3>1. Acceptance of Terms</h3>
                <p>By accessing and using 2 Truths and AI, you accept and agree to be bound by the terms and provision
                    of this agreement.</p>

                <h3>2. Description of Service</h3>
                <p>2 Truths and AI is a multiplayer game where players submit true statements about themselves, and an
                    AI generates convincing lies based on these statements. Other players then attempt to identify which
                    statement is the AI-generated lie.</p>

                <h3>3. User Responsibilities</h3>
                <p>As a user of this Game, you agree to:</p>
                <ul>
                    <li>Provide accurate information when creating your profile</li>
                    <li>Not submit harmful, offensive, or inappropriate content</li>
                    <li>Respect other players and maintain a positive gaming environment</li>
                    <li>Not attempt to hack, exploit, or disrupt the Game's functionality</li>
                    <li>Comply with all applicable laws and regulations</li>
                </ul>

                <h3>4. Age Restrictions</h3>
                <p>You must be at least 13 years old to use this Game. If you are under 13, you may not use this Game.
                </p>

                <h3>5. Intellectual Property</h3>
                <p>All content, features, and functionality of the Game, including but not limited to text, graphics,
                    logos, and software, are the exclusive property of the Game developers and are protected by
                    international copyright, trademark, and other intellectual property laws.</p>

                <h3>6. Termination</h3>
                <p>We reserve the right to terminate or suspend access to our Game immediately, without prior notice or
                    liability, for any reason whatsoever, including without limitation if you breach the Terms.</p>

                <h3>7. Limitation of Liability</h3>
                <p>In no event shall the Game developers be liable for any indirect, incidental, special, consequential
                    or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other
                    intangible losses.</p>

                <h3>8. Changes to Terms</h3>
                <p>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. By
                    continuing to access or use our Game after those revisions become effective, you agree to be bound
                    by the revised terms.</p>
            </div>
        </div>
    </div>

    <!-- Privacy Notice Modal -->
    <div id="privacyModal" class="modal" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Privacy Notice</h2>
                <button class="close-btn" id="closePrivacy" aria-label="Close privacy notice">✕</button>
            </div>
            <div class="modal-body">
                <h2>Privacy Notice for 2 Truths and AI</h2>

                <p><strong>Last Updated: </strong>10/13/2025 8:56PM</p>

                <h3>1. Information We Collect</h3>
                <p>We collect the following types of information when you use our Game:</p>

                <h4>Gameplay Information</h4>
                <ul>
                    <li>Truth statements you submit during gameplay</li>
                    <li>Voting patterns and game choices</li>
                    <li>Scores and performance metrics</li>
                    <li>Game preferences and settings</li>
                </ul>

                <h4>Technical Information</h4>
                <ul>
                    <li>Device information (browser type, operating system)</li>
                    <li>IP address (anonymized where possible)</li>
                    <li>Game session data and timestamps</li>
                </ul>

                <h4>Local Storage</h4>
                <p>We use your browser's local storage to:</p>
                <ul>
                    <li>Save game progress and settings</li>
                    <li>Store non-identifying analytics data</li>
                    <li>Maintain session information</li>
                </ul>

                <h3>3. Data Sharing and Disclosure</h3>
                <p>We do not sell your personal information. We may share non-identifying, aggregated data for
                    analytical purposes. Your actual statements may be visible to other players during gameplay as part
                    of the core game mechanics.</p>

                <h3>4. Data Retention</h3>
                <p>We retain gameplay data for as long as necessary to provide the Game services.</p>

                <h3>5. Changes to This Privacy Notice</h3>
                <p>We may update our Privacy Notice from time to time. We will notify you of any changes by posting the
                    new Privacy Notice on this page and updating the "Last Updated" date.</p>
            </div>
        </div>
    </div>

    <script>
        // Elements
        const c1 = document.getElementById('t1');
        const c2 = document.getElementById('t2');
        const c3 = document.getElementById('t3');
        const confirmBtn = document.getElementById('confirmBtn');
        const termsLink = document.getElementById('termsLink');
        const privacyLink = document.getElementById('privacyLink');
        const termsModal = document.getElementById('termsModal');
        const privacyModal = document.getElementById('privacyModal');
        const closeTerms = document.getElementById('closeTerms');
        const closePrivacy = document.getElementById('closePrivacy');

        // Update button state based on checkbox status
        function updateState() {
            const ok = c1.checked && c2.checked && c3.checked;
            confirmBtn.disabled = !ok;
            confirmBtn.setAttribute('aria-disabled', String(!ok));
            if (ok) {
                confirmBtn.classList.add('enabled');
            } else {
                confirmBtn.classList.remove('enabled');
            }
        }

        [c1, c2, c3].forEach(el => el.addEventListener('change', updateState));

        // Confirm button action
        confirmBtn.addEventListener('click', () => {
            if (confirmBtn.disabled) return;
            // Store consent in localStorage
            try {
                localStorage.setItem('2tai_consent', 'true');
                localStorage.setItem('2tai_consent_date', new Date().toISOString());
            } catch (e) {
                // Ignore storage errors
            }
            window.location.href = 'start-screen.html';
        });

        // Modal functions
        function openModal(modal) {
            modal.style.display = 'flex';
            modal.setAttribute('aria-hidden', 'false');
        }

        function closeModal(modal) {
            modal.style.display = 'none';
            modal.setAttribute('aria-hidden', 'true');
        }

        // Event listeners for modals
        termsLink.addEventListener('click', (e) => {
            e.preventDefault();
            openModal(termsModal);
        });

        privacyLink.addEventListener('click', (e) => {
            e.preventDefault();
            openModal(privacyModal);
        });

        closeTerms.addEventListener('click', () => {
            closeModal(termsModal);
        });

        closePrivacy.addEventListener('click', () => {
            closeModal(privacyModal);
        });

        // Close modals when clicking outside content
        window.addEventListener('click', (e) => {
            if (e.target === termsModal) {
                closeModal(termsModal);
            }
            if (e.target === privacyModal) {
                closeModal(privacyModal);
            }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (termsModal.getAttribute('aria-hidden') === 'false') {
                    closeModal(termsModal);
                }
                if (privacyModal.getAttribute('aria-hidden') === 'false') {
                    closeModal(privacyModal);
                }
            }
        });

        // Check if user has already given consent
        document.addEventListener('DOMContentLoaded', () => {
            try {
                const hasConsent = localStorage.getItem('2tai_consent');
                if (hasConsent === 'true') {
                    // Optionally auto-redirect if consent already given
                    // window.location.href = 'start-screen.html';
                }
            } catch (e) {
                // Ignore storage errors
            }
        });
    </script>
</body>

</html>